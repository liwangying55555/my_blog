---
title: å¦‚ä½•ä»é›¶å¼€å§‹éƒ¨ç½²ä¸€å°æœåŠ¡å™¨ã€02ã€‘
order: 3
date: 2024-11-07 17:07:21
# cover: /assets/bg/bg3.jpg
# article: true
# star: false
category: 
---

<!-- @format -->

## 01.å¼€å§‹è£…æœº

å› ä¸ºä¹°çš„è…¾è®¯äº‘ï¼Œè¿™æ¬¡é€‰æ‹©äº†è…¾è®¯äº‘è‡ªå·±äºŒæ¬¡å¼€å‘çš„`OpenCloudOS 9`ç³»ç»Ÿï¼Œç›¸æ¯”è¾ƒæœ€åŸå§‹çš„`CentOs`ï¼Œè¿™ä¸ªç³»ç»Ÿåœ¨ç•Œé¢ä¸Šç¨å¾®å¼€æ”¾äº†ä¸€ç‚¹æ¢è‚¤åŠŸèƒ½ã€‚

![è¿œç¨‹æ¡Œé¢](./imgs/è¿œç¨‹æ¡Œé¢.png)

è¿™æ˜¯åˆå§‹çŠ¶æ€ä¸‹çš„è¿œç¨‹æ¡Œé¢ï¼Œæˆ‘å°å°ä½¿ç”¨äº†ä¸€ä¸‹æ¢è‚¤åŠŸèƒ½ã€‚

## 02.`XShell`è¿œç¨‹æœåŠ¡å™¨

ä¹‹åå°±æ˜¯ä½¿ç”¨æœ¬åœ°çš„`XShell`å·¥å…·ï¼Œè¿œç¨‹è¿æ¥æœåŠ¡å™¨ã€‚

ç„¶åè¿™é‡Œå‡ºç°äº†é—®é¢˜ï¼Œsshç™»å½•çš„æ—¶å€™ï¼Œå‡ºç°äº†`Connection failed`çš„æç¤ºã€‚

![XShellé“¾æ¥å¤±è´¥](./imgs/XShellé“¾æ¥å¤±è´¥.png)

åé¢å„ç§å°è¯•äº†ä¹‹åï¼ˆåŒ…æ‹¬ç¡®å®šç«¯å£æ˜¯å¦å¼€æ”¾ç­‰å› ç´ ï¼‰ï¼Œæ‰è¯•æ¢æ€§çš„æ¢äº†ä¸€ä¸ªå¤–éƒ¨ç½‘ç»œï¼Œå±…ç„¶æˆåŠŸäº†ï¼ï¼ï¼ï¼ï¼

æˆ‘æ˜¯è¯´æˆ‘æ€ä¹ˆå°±å¡åœ¨äº†è¿™ä¹ˆç®€å•çš„ç¬¬ä¸€æ­¥äº†ï¼Œè¿˜å„ç§æ— è§£æ–¹æ¡ˆ......

æåŠå¤©æ˜¯æˆ‘çš„æ‰€åœ¨çš„å†…éƒ¨ç½‘ç»œè¢«å¢™äº†å•ŠğŸ˜‚

## 03.ç«¯å£ç­–ç•¥

ç«¯å£çš„æ”¾è¡Œå¾ˆé‡è¦ï¼Œè¿™å…³ä¹åé¢è¿›è¡Œçš„å„ç§æœåŠ¡ã€‚

å› ä¸ºä¹‹å‰é‚£å°æœåŠ¡å™¨çš„ç«¯å£ç­–ç•¥å¯ä»¥ç›´æ¥ç…§æŠ„ï¼Œå› æ­¤ï¼Œè¿™é‡Œä¸åšèµ˜è¿°ã€‚

![ç«¯å£ç­–ç•¥](./imgs/ç«¯å£ç­–ç•¥.png)

## 04.å®‰è£…å¹¶è®¾ç½®nginx

å‰ç«¯ç½‘é¡µçš„è®¿é—®ç¦»ä¸å¼€nginxçš„è½¬å‘ï¼Œå› æ­¤å®‰è£…nginxæ˜¯å¿…é¡»çš„ã€‚

### å®‰è£…nginx

åœ¨å¼€å§‹å®‰è£…Nginxä¹‹å‰ï¼Œé¦–å…ˆéœ€è¦å®‰è£…ä¸€äº›ä¾èµ–é¡¹ï¼Œä»¥ç¡®ä¿Nginxç¼–è¯‘å’Œè¿è¡Œæ­£å¸¸ã€‚æ‰“å¼€ç»ˆç«¯å¹¶æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```shell
yum install -y wget gcc-c++ pcre-devel zlib-devel openssl-devel
```

è¿™å°†å®‰è£…å¿…è¦çš„å·¥å…·å’Œåº“ï¼Œä»¥æ”¯æŒNginxçš„ç¼–è¯‘å’Œè¿è¡Œã€‚

nginxå®˜ç½‘ç½‘å€ï¼š[http://nginx.org/en/download.html](http://nginx.org/en/download.html)

![nginxå®˜ç½‘](./imgs/nginxå®˜ç½‘.png)

é€‰ç”¨ä¸­é—´çš„ç¨³å®šç‰ˆæœ¬å³å¯

```shell
# é€‰æ‹©ä¸€ä¸ªä¸‹è½½æ–‡ä»¶ç›®å½•
cd /data/download
# ä¾‹å¦‚ï¼Œä¸‹è½½Nginx 1.24.0ç‰ˆæœ¬
wget https://nginx.org/download/nginx-1.24.0.tar.gz
```

### è§£å‹nginx

åœ¨å½“å‰ç›®å½•ä¸‹ï¼Œè§£å‹ä¸‹è½½çš„Nginxæºä»£ç åŒ…ï¼š

```shell
tar -zxvf nginx-1.24.0.tar.gz
```

### ç¼–è¯‘å’Œå®‰è£…

è¿›å…¥è§£å‹åçš„Nginxç›®å½•å¹¶è¿›è¡Œç¼–è¯‘å’Œå®‰è£…ï¼š

```shell
# åˆ‡æ¢åˆ° Nginx è§£å‹ç›®å½•
cd nginx-1.24.0
# ç¼–è¯‘å‰çš„é…ç½®å’Œä¾èµ–æ£€æŸ¥
./configure
# å‡å¦‚å®‰è£…æŠ¥é”™ï¼ˆä¸€ï¼‰
yum -y install pcre-devel
# åŠ å…¥å®‰è£…æŠ¥é”™ï¼ˆäºŒï¼‰
yum -y install openssl openssl-devel
# é‡æ–°è¿è¡Œå®‰è£…å‘½ä»¤ ./configure
```

æ­£ç¡®çš„å®‰è£…æˆåŠŸä¹‹å nginxä¼šæ˜¾ç¤ºä½ çš„é»˜è®¤å®‰è£…è·¯å¾„å¦‚ä¸‹

```shell
nginx path prefix: "/usr/local/nginx"
nginx path prefix: "/usr/local/nginx"
nginx binary file: "/usr/local/nginx/sbin/nginx"
nginx modules path: "/usr/local/nginx/modules"
nginx configuration prefix: "/usr/local/nginx/conf"
nginx configuration file: "/usr/local/nginx/conf/nginx.conf"
nginx pid file: "/usr/local/nginx/logs/nginx.pid"
nginx error log file: "/usr/local/nginx/logs/error.log"
nginx http access log file: "/usr/local/nginx/logs/access.log"
nginx http client request body temporary files: "client_body_temp"
nginx http proxy temporary files: "proxy_temp"
nginx http fastcgi temporary files: "fastcgi_temp"
nginx http uwsgi temporary files: "uwsgi_temp"
nginx http scgi temporary files: "scgi_temp"
```

ç¼–è¯‘nginx

```shell
# ç¼–è¯‘å®‰è£…
make && make install
```

æŸ¥çœ‹nginxæ˜¯å¦å®‰è£…æˆåŠŸ

```shell
whereis nginx
```

![nginxå®‰è£…ç›®å½•](./imgs/nginxå®‰è£…ç›®å½•.png)

### è¿è¡Œå¹¶è®¾ç½®nginx

#### å¯åŠ¨nginx

```shell
# è¿›å…¥nginxæ‰§è¡Œæ–‡ä»¶ç›®å½•
cd /usr/local/nginx/sbin

# å¯åŠ¨nginx
./nginx
# æŸ¥çœ‹è¿è¡ŒçŠ¶æ€
ps -ef | grep nginx
```

![è¿è¡Œnginx](./imgs/nginxå¼€å§‹.png)

è®¾ç½®æˆåŠŸå³å¯çœ‹åˆ°é»˜è®¤ç«¯å£80è®¿é—®çŠ¶æ€

![nginxè®¾ç½®æˆåŠŸ](./imgs/nginxè®¾ç½®æˆåŠŸ.png)

#### å…³é—­nginx

```shell
# å…³é—­nginx
./nginx -s stop
# æŸ¥çœ‹è¿è¡ŒçŠ¶æ€
ps -ef | grep nginx
```

![nginxæš‚åœ](./imgs/nginxæš‚åœ.png)

#### é‡å¯nginx

```shell
# é‡å¯nginx
./nginx -s reload
# æŸ¥çœ‹è¿è¡ŒçŠ¶æ€
ps -ef | grep nginx
```

![nginxé‡å¯](./imgs/nginxé‡å¯.png)

#### nginxé…ç½®ç›®å½•

```shell
# å¯ä»¥ç›´æ¥è¿›å…¥é…ç½®æ–‡ä»¶åœ¨çº¿ä¿®æ”¹
vim /usr/local/nginx/conf/nginx.conf
```

é…ç½®è§„åˆ™å¯å‚è€ƒä¸Šä¸€å°æœåŠ¡å™¨å·²ç»é…ç½®å¥½çš„è§„åˆ™ã€‚

ä¸»è¦åå‘ä»£ç†è§„åˆ™å¦‚ä¸‹ï¼›

```shell
server {
    listen       80;
    server_name  localhost;
    root  /data/www/my_blog;
    index index.html index.php;

    location ^~ /perfect-admin {
        alias /data/www/perfect-admin;
        try_files $uri $uri/ /perfect-admin; 
        index index.html;
    }
            
    location ^~ /gallery {
        alias /data/www/perfect-server/public/file_cache;
        try_files $uri $uri/ /gallery; 
    index index.html;
    }
    
    # æ¥å£åå‘ä»£ç†
    location ^~ /center-back-stage {
        proxy_pass http://127.0.0.1:9000/center-back-stage;
        proxy_set_header Host $host:$server_port;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }

    error_page  404              /404.html;

    # redirect server error pages to the static page /50x.html
    #
    error_page   500 502 503 504  /50x.html;
    location = /50x.html {
        root   html;
    }
    
    location ~ .*\.(gif|jpg|jpeg|png|bmp|swf)$
    {
        expires      30d;
    }

    location ~ .*\.(js|css)?$
    {
        expires      12h;
    }

    location ~ /\.
    {
        deny all;
    }

    # access_log  /www/wwwlogs/access.log;
}
```

## 05.é…ç½®NodeJsé¡¹ç›®

ç›®å‰ä½¿ç”¨äº†ä¸€ç§æœ€lowçš„æ–¹å¼ï¼Œåœ¨9000ç«¯å£è¿è¡Œäº†ä¸€ä¸ªNodeJsæœåŠ¡ï¼Œå¹¶ä¸”ä¸ºäº†ç®€åŒ–éƒ¨ç½²æµç¨‹ï¼Œåœ¨é¡¹ç›®è·¯å¾„ä¸‹ç›´æ¥é…ç½®äº†gitæœåŠ¡ï¼Œéœ€è¦æ¯æ¬¡é‡æ–°æ‹‰å–æœ€æ–°çš„ä»£ç ï¼Œæ‰‹åŠ¨é‡å¯æœåŠ¡ã€‚

æ€ä¹ˆè¯´å‘¢ï¼Œè™½ç„¶éœ€è¦æ‰‹åŠ¨çš„éƒ¨åˆ†ç¡®å®æ˜¯å¤šäº†ä¸€ç‚¹ï¼Œä½†æ˜¯å…¶å®åç«¯æœåŠ¡æ›´æ–°çš„é¢‘ç‡å¹¶ä¸é«˜ï¼Œå”¯æ‰‹ç†Ÿå°”ã€‚

### é…ç½®gitç¯å¢ƒ

```shell
# å…ˆä¸‹è½½ç›¸å…³ä¾èµ–
yum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel
# ä¸‹è½½git
yum -y install git-core
# éªŒè¯gitç‰ˆæœ¬
git --version
```

### githubé…ç½®ssh key

```shell
# æ–°å¢æœ¬åœ°ssh key
ssh-keygen -t ed25519 -C "email"
```

![sshåˆå§‹åŒ–](./imgs/sshåˆå§‹åŒ–.png)

```shell
# æŸ¥çœ‹sshç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶
ls -al ~/.ssh

cd ~/.ssh

# æŸ¥çœ‹ssh key
cat id_ed25519.pub
```

![sshæŸ¥çœ‹](./imgs/sshæŸ¥çœ‹.png)

æœ‰äº†æ–°å¢çš„ssh keyï¼Œæˆ‘ä»¬å¯ä»¥æ‰“å¼€githubçš„è®¾ç½®ç•Œé¢è¿›è¡Œè®¾ç½®ã€‚

![ssh github è®¾ç½®](./imgs/ssh_github_è®¾ç½®.png)

![ssh gtihub æ–°å¢key](./imgs/ssh_gtihub_æ–°å¢key.png)

### æœ¬åœ°è¿è¡ŒæœåŠ¡

#### å®‰è£…NodeJs

```shell
# è·Ÿæœ¬åœ°nodejsåŒæ­¥ï¼Œå®‰è£…äº†ç‰ˆæœ¬v18.18.2
wget https://nodejs.org/dist/v18.18.2/node-v18.18.2-linux-x64.tar.xz
# è§£å‹å®‰è£…åŒ…
tar xf node-v18.18.2-linux-x64.tar.xz
```

![nodejså®‰è£…åŒ…è§£å‹](./imgs/nodejså®‰è£…åŒ…è§£å‹.png)

```shell
# æ–°å»ºnodejsåŒ…å­˜æ”¾ç›®å½•
mkdir /usr/local/lib/node
# ç§»åŠ¨è§£å‹åŒ…åˆ°æŒ‡å®šç›®å½• å¹¶æ–‡ä»¶å¤¹åç§°
mv node-v18.18.2-linux-x64 /usr/local/lib/node/nodejs
```

![nodejsåŒ…è½¬ç§»](./imgs/nodejsåŒ…è½¬ç§».png)

**è®¾ç½®ç¯å¢ƒNodeJsç¯å¢ƒå˜é‡**

```shell
# è®¿é—®è®¾ç½®æ–‡ä»¶
sudo vim /etc/profile
# åœ¨æœ€åº•éƒ¨åŠ å…¥ç¯å¢ƒå˜é‡
export NODEJS_HOME=/usr/local/lib/node/nodejs
export PATH=$NODEJS_HOME/bin:$PATH
# åˆ·æ–°ä¿®æ”¹
source /etc/profile
```

![nodejsè®¾ç½®ç¯å¢ƒå˜é‡](./imgs/nodejsè®¾ç½®ç¯å¢ƒå˜é‡.png)

å®‰è£…å®Œæˆï¼ŒæŸ¥çœ‹ç‰ˆæœ¬å·

```shell
# nodejs version
node -v
# npm version
npm -v
```

![nodejsç‰ˆæœ¬å·](./imgs/nodejsç‰ˆæœ¬å·.png)

nodejsæœ‰ä¸€ä¸ªè¿è¥åˆ©å™¨`pm2`ï¼Œå¯ä»¥ä¿æŒNodeJsæœåŠ¡çš„è¿è¡Œã€‚

### PM2å®‰è£…å’Œä½¿ç”¨

å®‰è£…ä¹‹å‰éœ€è¦æ›´æ”¹`npm`çš„é•œåƒæºï¼Œæ¢æˆæ›´å¿«ä¸€äº›çš„æ·˜å®æºï¼Œå¹¶ä¸”å¯ä»¥å®‰è£…ä¸€ä¸‹`yarn`ã€‚

```shell
# è®¾ç½®npmæº
npm config set registry https://registry.npmmirror.com/
# æŸ¥çœ‹npmæº
npm config get registry
# å…¨å±€å®‰è£…yarn
npm i yarn -g
# è®¾ç½®yarnæº
yarn config set registry https://registry.npmmirror.com/
# æŸ¥çœ‹yarnæº
yarn config get registry
```

![npmè®¾ç½®æº](./imgs/npmè®¾ç½®æº.png)

```shell
# åˆ©ç”¨npmå…¨å±€å®‰è£…pm2
npm i pm2 -g
```

å…·ä½“çš„ä½¿ç”¨æŒ‡å—å¯ä»¥è·³è½¬[https://pm2.fenxianglu.cn/docs/start](https://pm2.fenxianglu.cn/docs/start)

```sh
# æŸ¥çœ‹pm2è¿›ç¨‹
pm2 list
# åˆ é™¤å¹¶åœæ­¢æŸä¸ªè¿›ç¨‹
pm2 delete 1
```

![PM2å®‰è£…](./imgs/PM2å®‰è£….png)

## 06.é…ç½®Mysqlæ•°æ®åº“

ä¸çŸ¥é“æ˜¯ç‰ˆæœ¬é—®é¢˜è¿˜æ˜¯å®‰è£…æ­¥éª¤æŸä¸ªç¯èŠ‚ç¼ºå¤±ï¼Œæœäº†Nä¸ªå¸–å­ä¹‹åï¼Œé‡è£…ç³»ç»Ÿäº†Næ¬¡ä¹‹åï¼Œæ€»ç®—æ˜¯æˆåŠŸçš„å®‰è£…å¥½äº†Mysqlã€‚

ä¸ºäº†æ–¹å¼ä¸‹æ¬¡å®‰è£…è¿˜ä¼šæœ‰è¿™æ ·çš„é—®é¢˜ï¼Œè¯¦ç»†è®°å½•åœ¨æ­¤ã€‚

### å¸è½½è‡ªå¸¦çš„mariadbæ•°æ®åº“

```sh
# æŸ¥è¯¢
rpm -qa | grep mari
# å…³äºmariaéƒ½è¦åˆ é™¤
rpm -e --nodeps mariadb
```

### ä¸‹è½½Mysql

å®˜æ–¹åŒ…ä¸‹è½½åœ°å€[https://downloads.mysql.com/archives/community/](https://downloads.mysql.com/archives/community/)

![mysqlç‰ˆæœ¬](./imgs/mysqlç‰ˆæœ¬.png)

è¿™æ¬¡é€‰æ‹©çš„æ˜¯ç‰ˆæœ¬`5.7.30`ï¼ŒæŒ‰å›¾ä¸‹è½½å‹ç¼©åŒ…ä¹‹åï¼Œå°†å‹ç¼©åŒ…ç›´æ¥ä¼ åˆ°æœåŠ¡å™¨ä¸Š

```sh
# ä¾‹å¦‚æ–°å»ºä¸€ä¸ªå­˜æ”¾ä¸‹è½½æ–‡ä»¶çš„ç›®å½•
mkdir /data/download
# è¿›å…¥ç›®å½•
cd /data/download
# è§£å‹åˆ°å½“å‰ç›®å½•ä¸‹
tar -xvf mysql-5.7.30-linux-glibc2.12-x86_64.tar
# ç§»åŠ¨è§£å‹åŒ…åˆ°æŒ‡å®šç›®å½• å¹¶é‡å‘½å
mv mysql-5.7.30-linux-glibc2.12-x86_64 /usr/local/mysql
```

### å»ºç«‹ç”¨æˆ·ç»„

å…ˆæŸ¥çœ‹ä¸€ä¸‹ï¼Œå½“å‰çš„Linuxä¸­æ˜¯å¦å­˜åœ¨mysqlçš„ç”¨æˆ·å’Œç»„

```sh
cat /etc/passwd | grep mysql
cat /etc/group  | grep mysql
```

æ·»åŠ ç”¨æˆ·å’Œç»„

```sh
groupadd mysql
useradd -r -g mysql mysql
```

### åˆ›å»ºç›®å½•å¹¶ä¿®æ”¹æƒé™

```sh
mkdir -p /data/mysql
```

æŸ¥çœ‹ä¸€ä¸‹ /data/mysql ä»¥åŠåˆšåˆšè§£å‹ç¼©çš„ /usr/local/mysql çš„æƒé™ï¼Œå‘ç°å…¶æ‰€å±ç”¨æˆ·å’Œç»„å‡ä¸ºroot

```sh
ls -dl /usr/local/mysql/
ls -dl /data/mysql/
```

å°†æ‰€æœ‰è€…å’Œç»„å‡æ”¹ä¸ºmysql

```sh
chown -R mysql.mysql /usr/local/mysql
chown -R mysql.mysql /data/mysql
```

### åˆå§‹åŒ–mysql

```sh
/usr/local/mysql/bin/mysqld --user=mysql --basedir=/usr/local/mysql/ --datadir=/data/mysql --initialize
```

ä¼šç”Ÿæˆä¸€ä¸ªé»˜è®¤å¯†ç ï¼Œè®°ä½ç­‰ä¼šéœ€è¦ä½¿ç”¨ã€‚

![mysqlåˆå§‹åŒ–](./imgs/mysqlåˆå§‹åŒ–.webp)

### é…ç½®my.cnfé…ç½®æ–‡ä»¶

å› ä¸ºæˆ‘ä»¬æ˜¯é‚£ä¸ªå‹ç¼©åŒ…å®‰è£…ï¼Œå³ç¦»çº¿å®‰è£…ï¼Œæ‰€ä»¥è¿™ä¸ªmy.cnfæ˜¯éœ€è¦è‡ªå·±æ‰‹åŠ¨é…ç½®çš„

```sh
vim /etc/my.cnf
```

å°†ä¸‹é¢çš„å†…å®¹ï¼Œè¾“å…¥åˆ° /etc/my.cnfä¸­ï¼Œè¿™é‡Œè¦æ³¨æ„ï¼Œå‘æ¥äº†ï¼Œç›´æ¥æŒ‡å®šsocketçš„ç›®å½•ï¼Œä¸ç”¨ä»€ä¹ˆè½¯è¿æ¥ã€‚

```sh
[mysqld]
datadir=/data/mysql
basedir=/usr/local/mysql
socket=/var/lib/mysql/mysql.sock
user=mysql
port=3306
character-set-server=utf8
# å–æ¶ˆå¯†ç éªŒè¯
# skip-grant-tables
# # Disabling symbolic-links is recommended to prevent assorted security risks
symbolic-links=0
[mysqld_safe]
log-error=/var/log/mysqld.log
pid-file=/var/run/mysqld/mysqld.pid
```

### å¯åŠ¨æœåŠ¡

è¿™é‡Œçš„è¯ï¼Œéœ€è¦å°†mysqldæœåŠ¡æ‰¾åˆ°ï¼Œç„¶åå¤åˆ¶åˆ° /etc/init.d/mysqldï¼ˆå› ä¸ºé»˜è®¤çš„ç¦»çº¿å®‰è£…ï¼Œå®ƒæ˜¯ä¸è¯†åˆ«è¿™ä¸ªmysqldçš„ï¼‰

```sh
find / -name mysql-server  # æŸ¥æ‰¾mysqlæœåŠ¡
# å¦‚æœä¸å­˜åœ¨ /etc/init.d é‚£ä¹ˆå°±è‡ªå·± mkdir /etc/init.d å†è¿›è¡Œæ‹·è´
# å­˜åœ¨ç›´æ¥æ‹·è´
cp /usr/local/mysql/support-files/mysql.server /etc/init.d/mysqld # å¤åˆ¶
```

ç„¶åéœ€è¦å®‰è£…ä¸€ä¸‹mariadb-serverçš„æœåŠ¡ï¼Œå› ä¸ºmysql.serviceä¾èµ–äºæ­¤

```sh
yum install -y mariadb-server # 1. å®‰è£…æœåŠ¡
systemctl start mariadb.service # 2.å¯åŠ¨æœåŠ¡
systemctl enable mariadb.service # 3.è®¾ç½®ä¸ºå¼€æœºè‡ªå¯
```

å¯åŠ¨mysqlæœåŠ¡

```sh
service mysqld start
```

### ä¿®æ”¹mysqlåˆå§‹å¯†ç 

```sh
mysql -uroot -p # è¿›å…¥mysql
# è¾“å…¥ä¸´æ—¶å¯†ç   ä¾‹å¦‚æˆ‘çš„ï¼šqGlt6e<yeDa=
# è®¾ç½®å¯†ç ä¸€æ¬¡
SET PASSWORD = PASSWORD('123456');
# è®¾ç½®å¯†ç äºŒæ¬¡ è¿™é‡Œå¾ˆå…³é”®ï¼Œä»¥é˜²åªæœ‰ä¸€æ­¥æ—¶æŠ¥é”™ã€‚
ALTER USER 'root'@'localhost' IDENTIFIED BY '123456';
```

### è®¾ç½®rootè´¦æˆ·è¿œç¨‹æƒé™

```sh
use mysql;
update user set host ='%' where user ='root' and host ='localhost'; # root@localhost å®é™…è®¿é—®åç§°
# åˆ·æ–°
flush privileges;
exit;
```

### è®¾ç½®æ–°çš„è¿œç¨‹è´¦å·

å®‰å…¨é—®é¢˜ï¼Œå¯ä»¥å¦å¤–å»ºè®¾ä¸€ä¸ªæ–°çš„è´¦å·ï¼Œä¸“ç”¨äºè¿œç¨‹æ“ä½œã€‚

```sh
# è®¾ç½®ä¸€ä¸ªæ–°è´¦å·
create user test identified by '123456';
# åˆ†é…æƒé™
grant all privileges on . to 'test'@'%'identified by '123456' with grant option;
# åˆ·æ–°
flush privileges;
# æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯
select host,user from user;
```

![mysqlè¿œç¨‹è´¦æˆ·æƒé™](./imgs/mysqlè¿œç¨‹è´¦æˆ·æƒé™.png)

è¿™æ ·å°±å¯ä»¥ä½¿ç”¨æ–°å»ºçš„è´¦å·è¿›è¡Œè¿œç¨‹ç™»å½•æ“ä½œã€‚
